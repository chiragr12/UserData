mkdir backup cd backup

we need to copy the data from peer and orderer.

for Orderer

create a directory orderer

mkdir orderer

docker volume ls

inspect the orderer volume

docker volume inspect net_data-orderer.realmeds.io

copy the data from Mountpoint option to backup/orderer.

sudo cp -R /var/lib/docker/volumes/net_data-orderer.realmeds.io/_data/chains ./orderer (-R is using recursive)

sudo cp -R /var/lib/docker/volumes/net_data-orderer.realmeds.io/_data/index ./orderer

for peer

create a directory peer0.org1

mkdir peer0.org1

docker volume ls

inspect the peer volume

docker volume inspect net_data-peer.realmeds.io

copy the data from Mountpoint option to backup/peer0.org1.

sudo cp -R /var/lib/docker/volumes/net_data-peer.realmeds.io/_data/chaincodes ./peer0.org1

sudo cp -R /var/lib/docker/volumes/net_data-peer.realmeds.io/_data/ledgersData ./peer0.org1

sudo cp -R /var/lib/docker/volumes/net_data-peer.realmeds.io/_data/transientStore ./peer0.org1

copy all the folders from backup folder to realmeds/network/setup.

sudo cp -R backup/* realmeds/network/setup/

Configure the docker-compose.yaml file.

change

data-peer.realmeds.io:/var/hyperledger/production

To

./peer0.org1:/var/hyperledger/production

and

data-orderer.realmeds.io:/var/hyperledger/production/orderer

To

./orderer:/var/hyperledger/production/orderer

comment out the volume section . for example

 volumes:

data-peer.realmeds.io:

data-orderer.realmeds.io:

We configure the docker-compose.yaml file.

Need to start docker.

go to realmeds/network/setup

set -ev

export MSYS_NO_PATHCONV=1

docker-compose -f docker-compose.yml down

docker-compose -f docker-compose.yml up -d ca.realmeds.io orderer.realmeds.io peer0.org1.realmeds.io couchdb cli

docker ps -a